(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Z:()=>L});const t=document.createElement("link");t.rel="stylesheet",t.href="./media/modules/todo.css",document.getElementsByTagName("HEAD")[0].appendChild(t);const n=e=>{e.target;let t=e.target.parentNode;t.animate({opacity:0},1e3),t.remove()},o=document.createElement("link");o.rel="stylesheet",o.href="./media/modules/addBtn.css",document.getElementsByTagName("HEAD")[0].appendChild(o);const d=document.getElementById("project"),c=()=>{a.popup.hidden=!1,console.log("hello")},l=()=>{a.popup.hidden=!0},a=(()=>{const e=document.getElementById("addBtn"),t=document.getElementById("popupWindow");e.addEventListener("click",c);const n=document.getElementById("popupForm");return document.getElementById("sendForm").addEventListener("click",(e=>{e.preventDefault(),(e=>{const t=new FormData(e.target.parentNode),n=Object.fromEntries(t),o=d.options[d.selectedIndex].text;L(n,o),a.form.reset(),l()})(e)})),document.getElementById("closePopup").addEventListener("click",l),{addBtn:e,popup:t,form:n}})(),r=()=>{s.popup.hidden=!s.popup.hidden},s=(()=>{const e=document.getElementById("project"),t=document.createElement("div");t.classList.add("popupWindow"),t.classList.add("projectPopup"),t.hidden=!0;const n=document.createElement("button");n.classList.add("closePopup"),n.classList.add("closePP"),n.innerHTML="X",n.addEventListener("click",r),t.appendChild(n);const o=document.createElement("div");o.classList.add("formDiv");const d=document.createElement("form"),c=document.createElement("label");c.innerHTML="Project name:";const l=document.createElement("input");l.classList.add("projectName"),l.id="projectName";const a=document.createElement("button");return a.classList.add("sendForm"),a.innerHTML="Add project",a.addEventListener("click",(e=>{(e=>{e.preventDefault();let t=document.createElement("option");t.text=`${e.target.previousSibling.value}`,s.projectDropdown.add(t),s.projectForm.reset(),r()})(e)})),d.appendChild(c),d.appendChild(l),d.appendChild(a),o.appendChild(d),t.appendChild(o),document.getElementById("addProject").addEventListener("click",r),{projectDropdown:e,popup:t,projectForm:d}})(),i=s,p=document.getElementById("mainToDoScreen"),m=document.getElementById("addBtn"),u=document.getElementById("project");var E=[];const g=()=>{let e=localStorage.getItem("allTodo"),t=JSON.parse(e);if(0!=E.length)for(let e=0;e<p.children.length-2;e++)p.children[e].remove();if(null!==localStorage.getItem("allTodo")){let e=u.options[u.selectedIndex].text;for(let n=0;n<t.length;n++)t[n].project===e&&h(t[n].todo)}},h=(e,t)=>{console.log(e);const o=((e,t,o,d,c)=>{const l=document.createElement("div");l.classList.add("todoObject");const a=document.createElement("button");a.innerHTML="X",a.id="deleteToDo",a.addEventListener("click",(function(e){n(e)})),l.innerHTML=`<ul class='toDoData'>\n                    <li class='tTitle'><h1>${e}</h1></li>\n                    <li class='subData tdueDate'>${t}</li>\n                    <li class='subData tpriority'>${o}</li>\n                    <li class='subData tdescription'>${d}</li>\n                    </ul>`,l.insertBefore(a,l.childNodes[0]);const r=document.createElement("button");return r.classList.add("doneBtn"),r.addEventListener("click",(e=>n(e))),r.innerHTML="Done",l.appendChild(r),l})(e.title,e.date,e.priority,e.description,e.project);p.insertBefore(o,m);const d={todo:e,project:`${t}`};E.push(d),console.log(E),localStorage.setItem("allTodo",JSON.stringify(E))};p.appendChild(i.popup),g(),u.addEventListener("change",g);const L=h})();